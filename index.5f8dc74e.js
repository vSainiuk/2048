var r=document.querySelector(".start"),e=document.querySelector(".restart"),t=document.querySelector(".message-win"),n=document.querySelector(".message-lose"),o=document.querySelector(".game-score"),a=document.querySelectorAll(".field-cell"),c=document.querySelector(".message-start"),f=[],i=0,s=!1,d=!1;function u(){c.classList.add("hidden"),r.classList.add("hidden"),e.classList.remove("hidden"),t.classList.add("hidden"),n.classList.add("hidden"),o.textContent="0",i=0,s=!1,d=!1,f.length=0;for(var a=0;a<4;a++)f.push([0,0,0,0]);l(),l(),v()}function l(){for(var r=[],e=0;e<4;e++)for(var t=0;t<4;t++)0===f[e][t]&&r.push({i:e,j:t});if(0!==r.length){var n=Math.floor(Math.random()*r.length),o=r[n];f[o.i][o.j]=.1>Math.random()?4:2}}function v(){a.forEach(function(r,e){var t=Math.floor(e/4),n=e%4;r.textContent=0===f[t][n]?"":f[t][n],r.className="field-cell field-cell--".concat(f[t][n])})}document.addEventListener("keydown",function(r){if(!s&&!d){var e=!1;switch(r.key){case"ArrowLeft":e=function(){for(var r=!1,e=0;e<4;e++)for(var t=1;t<4;t++)if(0!==f[e][t]){for(var n=t-1;n>=0&&0===f[e][n];)n--;-1===n?(f[e][0]=f[e][t],f[e][t]=0,r=!0):f[e][n]===f[e][t]?(f[e][n]*=2,i+=f[e][n],f[e][t]=0,r=!0):n+1!==t&&(f[e][n+1]=f[e][t],f[e][t]=0,r=!0)}return r}();break;case"ArrowRight":e=function(){for(var r=!1,e=0;e<4;e++)for(var t=2;t>=0;t--)if(0!==f[e][t]){for(var n=t+1;n<4&&0===f[e][n];)n++;4===n?(f[e][3]=f[e][t],f[e][t]=0,r=!0):f[e][n]===f[e][t]?(f[e][n]*=2,i+=f[e][n],f[e][t]=0,r=!0):n-1!==t&&(f[e][n-1]=f[e][t],f[e][t]=0,r=!0)}return r}();break;case"ArrowUp":e=function(){for(var r=!1,e=0;e<4;e++)for(var t=1;t<4;t++)if(0!==f[t][e]){for(var n=t-1;n>=0&&0===f[n][e];)n--;-1===n?(f[0][e]=f[t][e],f[t][e]=0,r=!0):f[n][e]===f[t][e]?(f[n][e]*=2,i+=f[n][e],f[t][e]=0,r=!0):n+1!==t&&(f[n+1][e]=f[t][e],f[t][e]=0,r=!0)}return r}();break;case"ArrowDown":e=function(){for(var r=!1,e=0;e<4;e++)for(var t=2;t>=0;t--)if(0!==f[t][e]){for(var n=t+1;n<4&&0===f[n][e];)n++;4===n?(f[3][e]=f[t][e],f[t][e]=0,r=!0):f[n][e]===f[t][e]?(f[n][e]*=2,i+=f[n][e],f[t][e]=0,r=!0):n-1!==t&&(f[n-1][e]=f[t][e],f[t][e]=0,r=!0)}return r}();break;default:return}e&&(l(),v(),o.textContent=i,function(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)if(2048===f[r][e])return!0;return!1}()?(d=!0,t.classList.remove("hidden")):function(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)if(0===f[r][e]||r<3&&f[r][e]===f[r+1][e]||e<3&&f[r][e]===f[r][e+1])return!1;return!0}()&&(s=!0,n.classList.remove("hidden")))}}),r.addEventListener("click",u),e.addEventListener("click",u);
//# sourceMappingURL=index.5f8dc74e.js.map
